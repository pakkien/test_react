import{r as j,j as e,l as w,I as m,m as a,V as z,p as E,t as $,q as H,u as U,n as K,P as W,S as J,b as X,B as k,d as ee,a as ae,C as se,f as ie,g as te,h as ne,i as oe,A as re,F as le,o as de,v as ce,w as F}from"./index-H4DSgsDI.js";import{B as ue}from"./Badge-CJeDBF7A.js";const b=j.forwardRef(({className:n,isDisabled:s,isActive:t,isPrev:c,isFirst:u,isNext:h,isLast:x,children:o,onClick:p,...g},l)=>e.jsx("li",{ref:l,className:w("page-item",{disabled:s,active:t},n),...g,children:e.jsxs("span",{role:"button",onClick:p,onKeyDown:p,className:"page-link",tabIndex:s?-1:void 0,"aria-disabled":s?"true":void 0,"aria-label":c&&"First Page"||h&&"Last Page"||`${o} page`,children:[c&&e.jsx(m,{icon:"ChevronLeft"}),u&&e.jsx(m,{icon:"FirstPage"}),h&&e.jsx(m,{icon:"ChevronRight"}),x&&e.jsx(m,{icon:"LastPage"}),o]})}));b.displayName="PaginationItem";b.propTypes={className:a.string,isDisabled:a.bool,isActive:a.bool,isPrev:a.bool,isFirst:a.bool,isNext:a.bool,isLast:a.bool,children:a.node,onClick:a.func};b.defaultProps={className:void 0,isDisabled:!1,isActive:!1,isPrev:!1,isFirst:!1,isNext:!1,isLast:!1,children:null,onClick:void 0};const _=j.forwardRef(({ariaLabel:n,className:s,children:t,size:c,...u},h)=>e.jsx("nav",{ref:h,"aria-label":n,className:s,...u,children:e.jsx("ul",{className:w("pagination",{[`pagination-${c}`]:c},"m-0"),children:t})}));_.displayName="Pagination";_.propTypes={ariaLabel:a.string.isRequired,children:a.node.isRequired,className:a.string,size:a.oneOf(["sm","lg"])};_.defaultProps={className:void 0,size:null};const v=({children:n,value:s,disabled:t,ariaLabelledby:c,...u})=>e.jsx("option",{value:s,disabled:t,"aria-labelledby":c||n,...u,children:n});v.propTypes={children:a.string.isRequired,value:a.oneOfType([a.string,a.number]),disabled:a.bool,ariaLabelledby:a.string};v.defaultProps={disabled:!1,ariaLabelledby:null,value:void 0};const G=({list:n})=>n==null?void 0:n.map(s=>e.jsx(v,{value:s.value,...s,children:s.text||s.label},s.value));G.propTypes={list:a.arrayOf(a.shape({value:a.oneOfType([a.string,a.number]),text:a.oneOfType([a.string,a.number]),label:a.oneOfType([a.string,a.number])})).isRequired};const T=j.forwardRef(({id:n,name:s,className:t,children:c,required:u,placeholder:h,ariaDescribedby:x,ariaLabelledby:o,ariaLabel:p,list:g,multiple:l,title:r,size:f,disabled:q,value:i,defaultValue:d,isValid:y,isTouched:L,invalidFeedback:C,validFeedback:O,isValidMessage:D,isTooltipFeedback:A,onBlur:I,onChange:Q,onFocus:B,onInput:P,onInvalid:V,onSelect:Z,...M},Y)=>e.jsxs(e.Fragment,{children:[e.jsxs("select",{ref:Y,id:n,className:w("form-select",{[`form-select-${f}`]:f,"text-muted":i===""&&h,"is-invalid":!y&&L&&C,"is-valid":!y&&L&&!C},t),name:s,"aria-label":p,"aria-describedby":x,"aria-labelledby":o,multiple:l,disabled:q,title:r,value:i,defaultValue:d,required:u,onBlur:I,onChange:Q,onFocus:B,onInput:P,onInvalid:V,onSelect:Z,...M,children:[h&&e.jsx(v,{value:"",hidden:!0,children:h}),c||g&&e.jsx(G,{list:g})]}),D&&e.jsx(z,{isTouched:L,invalidFeedback:C,validFeedback:O,isTooltip:A})]}));T.displayName="Select";T.propTypes={id:a.string,className:a.string,name:a.string,children:a.node,ariaLabel:a.string.isRequired,placeholder:a.string,size:a.oneOf(["lg","sm"]),multiple:a.bool,disabled:a.bool,required:a.bool,ariaDescribedby:a.string,ariaLabelledby:a.string,title:a.string,value:a.oneOfType([a.string,a.arrayOf(a.string)]),defaultValue:a.oneOfType([a.string,a.arrayOf(a.string)]),list:a.arrayOf(a.shape({value:a.oneOfType([a.string,a.number]),text:a.oneOfType([a.string,a.number]),label:a.oneOfType([a.string,a.number])})),isTouched:a.bool,isValid:a.bool,invalidFeedback:a.string,validFeedback:a.string,isValidMessage:a.bool,isTooltipFeedback:a.bool,onBlur:a.func,onChange:a.func,onFocus:a.func,onInput:a.func,onInvalid:a.func,onSelect:a.func};T.defaultProps={id:void 0,className:void 0,name:void 0,children:null,placeholder:void 0,multiple:!1,size:void 0,disabled:!1,required:!1,ariaDescribedby:void 0,ariaLabelledby:void 0,title:void 0,value:void 0,defaultValue:void 0,list:void 0,isTouched:!1,isValid:!1,invalidFeedback:void 0,validFeedback:void 0,isValidMessage:!0,isTooltipFeedback:!1,onBlur:void 0,onChange:void 0,onFocus:void 0,onInput:void 0,onInvalid:void 0,onSelect:void 0};const R={3:3,5:5,10:10,25:25,50:50},he=(n,s,t)=>n.filter((c,u)=>u+1>(s-1)*t&&u+1<=s*t),S=({setCurrentPage:n,currentPage:s,perPage:t,setPerPage:c,data:u,label:h})=>{const x=u.length,o=Math.ceil(x/t),p=()=>{let l=[],r=s-1;for(;r>=s-1&&r>0;)l.push(e.jsx(b,{onClick:()=>n(s-1),children:r},r)),r-=1;for(l=l.reverse(),l.push(e.jsx(b,{isActive:!0,onClick:()=>n(s),children:s},s)),r=s+1;r<=s+1&&r<=o;)l.push(e.jsx(b,{onClick:()=>n(s+1),children:r},r)),r+=1;return l},g=()=>{const l=t*(s-1)+1,r=t*s;return e.jsxs("span",{className:"pagination__desc",children:["Showing ",l," to ",r>x?x:r," of ",x," ",h]})};return e.jsxs(E,{children:[e.jsx($,{children:e.jsx("span",{className:"text-muted",children:g()})}),e.jsxs(H,{className:"d-flex",children:[o>1&&e.jsxs(_,{ariaLabel:h,children:[e.jsx(b,{isFirst:!0,isDisabled:!(s-1>0),onClick:()=>n(1)}),e.jsx(b,{isPrev:!0,isDisabled:!(s-1>0),onClick:()=>n(s-1)}),s-1>1&&e.jsx(b,{onClick:()=>n(s-2),children:"..."}),p(),s+1<o&&e.jsx(b,{onClick:()=>n(s+2),children:"..."}),e.jsx(b,{isNext:!0,isDisabled:!(s+1<=o),onClick:()=>n(s+1)}),e.jsx(b,{isLast:!0,isDisabled:!(s+1<=o),onClick:()=>n(o)})]}),e.jsx(T,{size:"sm",ariaLabel:"Per",onChange:l=>{c(parseInt(l.target.value,10)),n(1)},value:t.toString(),children:Object.keys(R).map(l=>e.jsx(v,{value:l,children:l},l))})]})]})};S.propTypes={setCurrentPage:a.func.isRequired,currentPage:a.number.isRequired,perPage:a.number.isRequired,setPerPage:a.func.isRequired,data:a.array.isRequired,label:a.string};S.defaultProps={label:"items"};const pe=(n,s=null)=>{const[t,c]=j.useState(s);return{items:j.useMemo(()=>{const o=[...n];return t!==null&&o.sort((p,g)=>p[t.key]<g[t.key]?t.direction==="ascending"?-1:1:p[t.key]>g[t.key]?t.direction==="ascending"?1:-1:0),o},[n,t]),requestSort:o=>{let p="ascending";t&&t.key===o&&t.direction==="ascending"&&(p="descending"),c({key:o,direction:p})},getClassNamesFor:o=>t&&t.key===o?t.direction:"d-none",sortConfig:t}};function be(n){switch(n.toLowerCase().trim()){case"inprogress":return"danger";case"closed":return"dark";case"awarded":return"success";default:return"primary"}}const N=[{id:"1",prepared_by:"Gary",client:"Tech Group",quotation_date:"2024-04-04T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27,status:"In Progress",site_location:"Penang",building:"Lab 1"},{id:"2",prepared_by:"Gary",client:"Tech Group",quotation_date:"2024-04-03T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27.96,status:"Closed",site_location:"Penang",building:"Lab 1"},{id:"3",prepared_by:"Gary",client:"Tech Group",quotation_date:"2024-04-02T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6000.1,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"},{id:"4",prepared_by:"Gary",client:"Tech Group",quotation_date:"2024-04-01T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6000.03,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"},{id:"5",prepared_by:"Gary",client:"Tech Group",quotation_date:"2023-04-04T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"},{id:"6",prepared_by:"Gary",client:"Tech Group",quotation_date:"2025-04-04T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"},{id:"7",prepared_by:"Gary",client:"Tech Group",quotation_date:"2022-04-04T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"},{id:"8",prepared_by:"Gary",client:"Tech Group",quotation_date:"2024-04-04T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"},{id:"9",prepared_by:"Gary",client:"Tech Group",quotation_date:"2024-04-04T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"},{id:"10",prepared_by:"Gary",client:"Tech Group",quotation_date:"2024-04-04T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"}],je=()=>{const n=U(),[s,t]=j.useState(N),[c,u]=j.useState(1),[h,x]=j.useState(R[5]),{items:o,requestSort:p,getClassNamesFor:g}=pe(s),l=i=>{const d=i.search.toString().toLowerCase(),y=q(d);i.search?t(y):t(N)},r=K({initialValues:{search:""},onSubmit:l,onReset:()=>t(N)}),f=()=>{n("view-quotation")},q=i=>s.filter(d=>d.prepared_by.toLowerCase().includes(i)||d.client.toLowerCase().includes(i)||F(`${d.quotation_date}`).format("DD/MM/YYYY").includes(i)||d.quotation_no.toLowerCase().includes(i)||d.end_user.toLowerCase().includes(i)||d.revision.toString().toLowerCase().includes(i)||d.quotation_amount.toFixed(2).toString().toLowerCase().includes(i)||d.cost.toFixed(2).toString().toLowerCase().includes(i)||d.margin.toFixed(2).toString().toLowerCase().includes(i)||d.percent.toFixed(2).toString().toLowerCase().includes(i)||d.status.toLowerCase().includes(i)||d.site_location.toLowerCase().includes(i)||d.building.toLowerCase().includes(i));return e.jsxs(W,{title:"Tracking List",children:[e.jsx(J,{children:e.jsxs(X,{children:[e.jsx(k,{color:"info",isLink:!0,icon:"ArrowBack",onClick:()=>n(-1),children:"Back"}),e.jsx(ee,{}),e.jsx("strong",{className:"fs-5",children:"Tracking List"})]})}),e.jsx(ae,{container:"fluid",children:e.jsxs(se,{stretch:!0,children:[e.jsx(ie,{className:"table-responsive",isScrollable:!0,children:e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-md-4",children:e.jsx(te,{children:e.jsx(ne,{children:e.jsx(oe,{tag:"div",className:"h3",children:"Tracking List"})})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(re,{color:"light",isLight:!0,children:e.jsx("form",{onSubmit:r.handleSubmit,children:e.jsx(le,{children:e.jsxs("div",{className:"d-flex","data-tour":"search",children:[e.jsx("label",{className:"border-0 bg-transparent",children:e.jsx(m,{icon:"Search",size:"2x",color:"primary"})}),e.jsx(de,{id:"search",placeholder:"Search...",className:"border-0 shadow-none bg-transparent",onChange:i=>{r.handleChange(i),i.target.value.length>2&&ce(()=>l({...r.values,search:i.target.value}),1e3)(),i.target.value.length===0&&r.resetForm()},value:r.values.search})]})})})})}),e.jsx("div",{className:"col-md-4"}),e.jsx("div",{className:"col-md-12",children:e.jsxs("table",{className:"table table-modern",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No."}),e.jsx("th",{children:"Prepared By"}),e.jsx("th",{children:"Client"}),e.jsxs("th",{onClick:()=>p("quotation_date"),className:"cursor-pointer text-decoration-underline",children:["Quotation Date",e.jsx(m,{size:"lg",className:g("quotation_date"),icon:"FilterList"})]}),e.jsx("th",{children:"Quotation No."}),e.jsx("th",{children:"End User"}),e.jsx("th",{children:"Revision"}),e.jsx("th",{children:"Quotation Amount"}),e.jsx("th",{children:"Cost"}),e.jsx("th",{children:"Margin"}),e.jsx("th",{children:"%"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Site Location"}),e.jsx("th",{children:"Building"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:he(o,c,h).map((i,d)=>e.jsxs("tr",{children:[e.jsx("td",{children:d+1}),e.jsx("td",{children:i.prepared_by}),e.jsx("td",{children:i.client}),e.jsx("td",{children:F(`${i.quotation_date}`).format("DD/MM/YYYY")}),e.jsx("td",{children:i.quotation_no}),e.jsx("td",{children:i.end_user}),e.jsx("td",{children:i.revision}),e.jsx("td",{children:i.quotation_amount.toFixed(2)}),e.jsx("td",{children:i.cost.toFixed(2)}),e.jsx("td",{children:i.margin.toFixed(2)}),e.jsxs("td",{children:[i.percent.toFixed(2),"%"]}),e.jsx("td",{children:e.jsx(ue,{className:"statusBadge",color:be(i.status),children:e.jsx("h6",{children:i.status})})}),e.jsx("td",{children:i.site_location}),e.jsx("td",{children:i.building}),e.jsx("td",{children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-auto",children:e.jsx(k,{color:"primary",icon:"RemoveRedEye",shadow:"none",hoverShadow:"lg",tag:"a",onClick:()=>f()})})})})]},i.id))})]})})]})}),e.jsx(S,{data:o,label:"items",setCurrentPage:u,currentPage:c,perPage:h,setPerPage:x})]})})]})};export{je as default};
