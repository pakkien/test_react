import{u as v,r as i,g as w,j as e,P as C,S as G,b as y,B as h,d as S,a as P,C as N,f,h as F,i as k,k as A,A as Q,F as B,I as x,l as D,m as Z,t as p}from"./index-4mTFlNZn.js";import{B as Y}from"./Badge-DKKowCJj.js";import{P as R,u as E,d as M,a as I}from"./PaginationButtons-DnXLKrKJ.js";import"./Select-LOSvFYKu.js";function H(n){switch(n.toLowerCase().trim()){case"inprogress":return"danger";case"closed":return"dark";case"awarded":return"success";default:return"primary"}}const r=[{id:"1",prepared_by:"Gary",client:"Tech Group",quotation_date:"2024-04-04T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27,status:"In Progress",site_location:"Penang",building:"Lab 1"},{id:"2",prepared_by:"Gary",client:"Tech Group",quotation_date:"2024-04-03T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27.96,status:"Closed",site_location:"Penang",building:"Lab 1"},{id:"3",prepared_by:"Gary",client:"Tech Group",quotation_date:"2024-04-02T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6000.1,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"},{id:"4",prepared_by:"Gary",client:"Tech Group",quotation_date:"2024-04-01T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6000.03,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"},{id:"5",prepared_by:"Gary",client:"Tech Group",quotation_date:"2023-04-04T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"},{id:"6",prepared_by:"Gary",client:"Tech Group",quotation_date:"2025-04-04T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"},{id:"7",prepared_by:"Gary",client:"Tech Group",quotation_date:"2022-04-04T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"},{id:"8",prepared_by:"Gary",client:"Tech Group",quotation_date:"2024-04-04T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"},{id:"9",prepared_by:"Gary",client:"Tech Group",quotation_date:"2024-04-04T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"},{id:"10",prepared_by:"Gary",client:"Tech Group",quotation_date:"2024-04-04T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"}],O=()=>{const n=v(),[g,s]=i.useState(r),[d,j]=i.useState(1),[c,_]=i.useState(R[5]),{items:l,requestSort:b,getClassNamesFor:m}=E(g),u=t=>{const a=t.search.toString().toLowerCase(),L=q(a);t.search?s(L):s(r)},o=w({initialValues:{search:""},onSubmit:u,onReset:()=>s(r)}),q=t=>r.filter(a=>a.prepared_by.toLowerCase().includes(t)||a.client.toLowerCase().includes(t)||p(`${a.quotation_date}`).format("DD/MM/YYYY").includes(t)||a.quotation_no.toLowerCase().includes(t)||a.end_user.toLowerCase().includes(t)||a.revision.toString().toLowerCase().includes(t)||a.quotation_amount.toFixed(2).toString().toLowerCase().includes(t)||a.cost.toFixed(2).toString().toLowerCase().includes(t)||a.margin.toFixed(2).toString().toLowerCase().includes(t)||a.percent.toFixed(2).toString().toLowerCase().includes(t)||a.status.toLowerCase().includes(t)||a.site_location.toLowerCase().includes(t)||a.building.toLowerCase().includes(t)),T=()=>{n("view-quotation")};return e.jsxs(C,{title:"Tracking List",children:[e.jsx(G,{children:e.jsxs(y,{children:[e.jsx(h,{color:"info",isLink:!0,icon:"ArrowBack",onClick:()=>n(-1),children:"Back"}),e.jsx(S,{}),e.jsx("strong",{className:"fs-5",children:"Tracking List"})]})}),e.jsx(P,{container:"fluid",children:e.jsxs(N,{stretch:!0,children:[e.jsx(f,{className:"table-responsive",isScrollable:!0,children:e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-md-4",children:e.jsx(F,{children:e.jsx(k,{children:e.jsx(A,{tag:"div",className:"h3",children:"Tracking List"})})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(Q,{color:"light",isLight:!0,children:e.jsx("form",{onSubmit:o.handleSubmit,children:e.jsx(B,{children:e.jsxs("div",{className:"d-flex","data-tour":"search",children:[e.jsx("label",{className:"border-0 bg-transparent",children:e.jsx(x,{icon:"Search",size:"2x",color:"primary"})}),e.jsx(D,{id:"search",placeholder:"Search...",className:"border-0 shadow-none bg-transparent",onChange:t=>{o.handleChange(t),t.target.value.length>2&&Z(()=>u({...o.values,search:t.target.value}),1e3)(),t.target.value.length===0&&o.resetForm()},value:o.values.search})]})})})})}),e.jsx("div",{className:"col-md-4"}),e.jsx("div",{className:"col-md-12",children:e.jsxs("table",{className:"table table-modern",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No."}),e.jsx("th",{children:"Prepared By"}),e.jsx("th",{children:"Client"}),e.jsxs("th",{onClick:()=>b("quotation_date"),className:"cursor-pointer text-decoration-underline",children:["Quotation Date",e.jsx(x,{size:"lg",className:m("quotation_date"),icon:"FilterList"})]}),e.jsx("th",{children:"Quotation No."}),e.jsx("th",{children:"End User"}),e.jsx("th",{children:"Revision"}),e.jsx("th",{children:"Quotation Amount"}),e.jsx("th",{children:"Cost"}),e.jsx("th",{children:"Margin"}),e.jsx("th",{children:"%"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Site Location"}),e.jsx("th",{children:"Building"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:M(l,d,c).map((t,a)=>e.jsxs("tr",{children:[e.jsx("td",{children:a+1}),e.jsx("td",{children:t.prepared_by}),e.jsx("td",{children:t.client}),e.jsx("td",{children:p(`${t.quotation_date}`).format("DD/MM/YYYY")}),e.jsx("td",{children:t.quotation_no}),e.jsx("td",{children:t.end_user}),e.jsx("td",{children:t.revision}),e.jsx("td",{children:t.quotation_amount.toFixed(2)}),e.jsx("td",{children:t.cost.toFixed(2)}),e.jsx("td",{children:t.margin.toFixed(2)}),e.jsxs("td",{children:[t.percent.toFixed(2),"%"]}),e.jsx("td",{children:e.jsx(Y,{className:"statusBadge",color:H(t.status),children:e.jsx("h6",{children:t.status})})}),e.jsx("td",{children:t.site_location}),e.jsx("td",{children:t.building}),e.jsx("td",{children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-auto",children:e.jsx(h,{color:"primary",icon:"RemoveRedEye",shadow:"none",hoverShadow:"lg",tag:"a",onClick:()=>T()})})})})]},t.id))})]})})]})}),e.jsx(I,{data:l,label:"items",setCurrentPage:j,currentPage:d,perPage:c,setPerPage:_})]})})]})};export{O as default};
