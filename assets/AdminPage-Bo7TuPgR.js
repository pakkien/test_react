import{r as s,u as p,g as se,j as e,A as w,C as A,f as q,h as M,i as E,k as T,F as ae,I as j,l as re,m as ie,B as i,P as ne,S as ce,b as le,d as N,n as oe,a as de}from"./index-B2HJiTi2.js";import{P as ue,u as me,d as he,a as xe}from"./useSortableData-sbBQkcj_.js";import{M as _e,a as je,b as Se,c as ge,d as fe}from"./Modal-Cu2LccKj.js";import"./Select-BBbRxwGA.js";function d(a){return a?e.jsx(j,{icon:"CheckCircleOutline",className:"",color:"success",size:"2x",forceFamily:"material"}):e.jsx(j,{icon:"Cancel",className:"",color:"danger",size:"2x",forceFamily:"material"})}const ve=()=>{const a=[{user_id:"1",role:"Admin",name:"John Doe",email:"user1@gmail.com",view_quotation:!0,create_edit_quotation:!0,view_mccr:!0,create_edit_mccr:!0},{user_id:"2",role:"Admin",name:"John2",email:"user1@gmail.com",view_quotation:!1,create_edit_quotation:!1,view_mccr:!1,create_edit_mccr:!1},{user_id:"3",role:"Admin",name:"John3",email:"user1@gmail.com",view_quotation:!0,create_edit_quotation:!0,view_mccr:!0,create_edit_mccr:!0},{user_id:"4",role:"Admin",name:"John4",email:"user1@gmail.com",view_quotation:!0,create_edit_quotation:!0,view_mccr:!0,create_edit_mccr:!0},{user_id:"5",role:"Admin",name:"John5",email:"user1@gmail.com",view_quotation:!0,create_edit_quotation:!0,view_mccr:!0,create_edit_mccr:!0},{user_id:"6",role:"Admin",name:"John6",email:"user1@gmail.com",view_quotation:!0,create_edit_quotation:!0,view_mccr:!0,create_edit_mccr:!0},{user_id:"7",role:"Admin",name:"John7",email:"user1@gmail.com",view_quotation:!0,create_edit_quotation:!0,view_mccr:!0,create_edit_mccr:!0},{user_id:"8",role:"Admin",name:"John8",email:"user1@gmail.com",view_quotation:!0,create_edit_quotation:!0,view_mccr:!0,create_edit_mccr:!0},{user_id:"9",role:"Admin",name:"John9",email:"user1@gmail.com",view_quotation:!0,create_edit_quotation:!0,view_mccr:!0,create_edit_mccr:!0},{user_id:"10",role:"User",name:"John10",email:"user1@gmail.com",view_quotation:!0,create_edit_quotation:!0,view_mccr:!0,create_edit_mccr:!0}],[u,m]=s.useState(a);function n(t){const r=u.filter(_=>_.user_id!==t);m(r)}const k=p(),D=()=>{k("manage-user")},[h,P]=s.useState({name:"",id:""}),[F,l]=s.useState(!1),[L,B]=s.useState(!1),[U,O]=s.useState(!1),[J,S]=s.useState(!1),[R,I]=s.useState(null),[V,z]=s.useState(void 0),[G,y]=s.useState(!0),[be,H]=s.useState(!1),[Q,W]=s.useState(!0),K=()=>{B(!1),O(!1),S(!1),I(null),z(!1),y(!0),H(!1),W(!0)},[X,g]=s.useState(!1),Y=t=>{n(t),g(!0),setTimeout(()=>{g(!1)},3e3)},[Z,x]=s.useState(a),[f,$]=s.useState(1),[v,ee]=s.useState(ue[5]),{items:C,requestSort:we,getClassNamesFor:Ne}=me(Z),b=t=>{const r=t.search.toString().toLowerCase(),_=te(r);t.search?x(_):x(a)},o=se({initialValues:{search:""},onSubmit:b,onReset:()=>x(a)}),te=t=>a.filter(r=>r.name.toLowerCase().includes(t)||r.role.toLowerCase().includes(t)||r.email.toLowerCase().includes(t));return e.jsxs(e.Fragment,{children:[X&&e.jsx(w,{color:"success",isLight:!0,icon:"VerifiedUser",isDismissible:!0,children:"Delete Success"}),e.jsxs(A,{stretch:!0,children:[e.jsx(q,{className:"table-responsive",isScrollable:!0,children:e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-md-4",children:e.jsx(M,{children:e.jsx(E,{children:e.jsx(T,{tag:"div",className:"h3",children:"User Management"})})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(w,{color:"light",isLight:!0,children:e.jsx("form",{onSubmit:o.handleSubmit,children:e.jsx(ae,{children:e.jsxs("div",{className:"d-flex","data-tour":"search",children:[e.jsx("label",{className:"border-0 bg-transparent",children:e.jsx(j,{icon:"Search",size:"2x",color:"primary"})}),e.jsx(re,{id:"search",placeholder:"Search...",className:"border-0 shadow-none bg-transparent",onChange:t=>{o.handleChange(t),t.target.value.length>2&&ie(()=>b({...o.values,search:t.target.value}),1e3)(),t.target.value.length===0&&o.resetForm()},value:o.values.search})]})})})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(i,{color:"success",className:"float-end",icon:"Create",tag:"a",children:"Create"})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("table",{className:"table table-modern",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"View Quotation"}),e.jsx("th",{children:"Create / Edit Quotation"}),e.jsx("th",{children:"View MCCR"}),e.jsx("th",{children:"Create / Edit MCCR"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:he(C,f,v).map((t,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:r+1}),e.jsx("td",{children:t.role}),e.jsx("td",{children:t.name}),e.jsx("td",{children:t.email}),e.jsx("td",{children:d(t.view_quotation)}),e.jsx("td",{children:d(t.create_edit_quotation)}),e.jsx("td",{children:d(t.view_mccr)}),e.jsx("td",{children:d(t.create_edit_mccr)}),e.jsx("td",{children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-auto",children:e.jsx(i,{color:"primary",icon:"Edit",shadow:"none",hoverShadow:"lg",tag:"a",target:"_blank",onClick:()=>D()})}),e.jsx("div",{className:"col-auto",children:e.jsx(i,{className:"me-4",color:"danger",isLight:!0,icon:"Delete",onClick:()=>{P({name:t.name,id:t.user_id}),K(),S(!0),l(!0)}})})]})})]},t.user_id))})]})})]})}),e.jsx(xe,{data:C,label:"items",setCurrentPage:$,currentPage:f,perPage:v,setPerPage:ee})]}),e.jsxs(_e,{isOpen:F,setIsOpen:l,titleId:"exampleModalLabel",isStaticBackdrop:L,isScrollable:U,isCentered:J,size:R,fullScreen:V,isAnimation:G,children:[e.jsx(je,{setIsOpen:Q?l:void 0,children:e.jsxs(Se,{id:"confirmDeleteUserModal",children:["Confirm Delete User - ",h.name]})}),e.jsxs(ge,{children:["Confirm to delete ",h.name]}),e.jsxs(fe,{children:[e.jsx(i,{color:"danger",icon:"Delete",onClick:()=>{l(!1),Y(h.id)},children:"Delete"}),e.jsx(i,{color:"info",isOutline:!0,className:"border-0",onClick:()=>l(!1),children:"Cancel"})]})]})]})},Ce=()=>e.jsxs(A,{children:[e.jsx(M,{children:e.jsx(E,{children:e.jsx(T,{tag:"div",className:"h3",children:"Manage Options"})})}),e.jsx(q,{children:e.jsx(e.Fragment,{})})]}),c={USER_MANAGEMENT:"User Management",MANAGE_OPTIONS:"Manage Options"},Ee=()=>{const[a,u]=s.useState(c.USER_MANAGEMENT),m=p();return e.jsxs(ne,{title:"Admin",children:[e.jsx(ce,{children:e.jsxs(le,{children:[e.jsx(i,{color:"info",isLink:!0,icon:"ArrowBack",onClick:()=>m(-1),children:"Back"}),e.jsx(N,{}),e.jsx("strong",{className:"fs-5",children:"Admin"}),e.jsx(N,{}),e.jsx(oe,{children:Object.keys(c).map(n=>e.jsx(i,{color:a===c[n]?"success":"light",onClick:()=>u(c[n]),children:c[n]},n))})]})}),e.jsx(de,{container:"fluid",children:a==c.USER_MANAGEMENT?e.jsx(ve,{}):e.jsx(Ce,{})})]})};export{Ee as default};
