import{u as C,x as f,r as t,g as p,n as d,s as m,j as e,P as b,S as N,b as k,B as h,d as q,a as S,C as F,h as E,i as V,k as B,f as R,F as n,l as u,t as y,v as I,I as x}from"./index-CAoBQBr_.js";import{C as c}from"./Checks-iEXQd0pk.js";import{S as P}from"./Select-DMbBziSw.js";const U=[{value:"admin",text:"Admin"},{value:"user",text:"User"}],A=()=>{const j=C(),{user_id:r}=f(),[a,v]=t.useState(),w=async()=>{const l={headers:{Authorization:`${localStorage.getItem("bts_token")}`}};d.get(`undefined/users/${r}`,l).then(s=>{v(s.data.data)})};t.useEffect(()=>{w()},[]);const i=p({initialValues:{name:a!=null&&a.name?a.name:"",role:a!=null&&a.role?a.role:"",email:a!=null&&a.email?a.email:"",view_quotation:a!=null&&a.view_quotation?a.view_quotation:"",write_quotation:a!=null&&a.write_quotation?a.write_quotation:"",view_mccr:a!=null&&a.view_mccr?a.view_mccr:"",write_mccr:a!=null&&a.write_mccr?a.write_mccr:""},enableReinitialize:!0,validate:l=>{const s={};return l.name||(s.name="Required"),l.role||(s.role="Required"),l.email||(s.email="Required"),s},onSubmit:async l=>{await g(l)}}),g=async l=>{const s={headers:{Authorization:`${localStorage.getItem("bts_token")}`}},_={name:l.name,role:l.role,email:l.email,view_quotation:l.view_quotation,write_quotation:l.write_quotation,view_mccr:l.view_mccr,write_mccr:l.write_mccr};d.put(`undefined/users/${r}`,_,s).then(o=>{m(e.jsxs("span",{className:"d-flex align-items-center",children:[e.jsx(x,{icon:"Info",size:"lg",className:"me-1"}),e.jsx("span",{children:"Updated Successfully"})]}),"User Updated.")}).catch(o=>m(e.jsxs("span",{className:"d-flex align-items-center",children:[e.jsx(x,{icon:"Info",size:"lg",className:"me-1"}),e.jsx("span",{children:"Error!"})]}),o))};return e.jsxs(b,{title:"Manage User",children:[e.jsx(N,{children:e.jsxs(k,{children:[e.jsx(h,{color:"info",isLink:!0,icon:"ArrowBack",onClick:()=>j(-1),children:"Back"}),e.jsx(q,{}),e.jsx("strong",{className:"fs-5",children:"Profile Information"})]})}),e.jsx(S,{children:e.jsx("div",{className:"row h-100",children:e.jsx("div",{className:"col-xl-12 col-lg-12 col-md-6",children:e.jsxs(F,{stretch:!0,tag:"form",children:[e.jsx(E,{children:e.jsx(V,{children:e.jsx(B,{tag:"div",className:"h3",children:"Profile Information"})})}),e.jsx(R,{className:"pb-0",isScrollable:!0,children:e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(n,{id:"name",label:"Name",isFloating:!0,children:e.jsx(u,{placeholder:"Name",autoComplete:"additional-name",onChange:i.handleChange,onBlur:i.handleBlur,value:i.values.name,isValid:i.isValid,isTouched:i.touched.name,invalidFeedback:i.errors.name,validFeedback:"Valid Name"})})}),e.jsx("div",{className:"col-md-6",children:e.jsx(n,{id:"role",label:"Role",isFloating:!0,children:e.jsx(P,{id:"inputGroupSelect01",ariaLabel:"Default select example",value:i.values.role,list:U,onChange:i.handleChange,onBlur:i.handleBlur,isValid:i.isValid,isTouched:i.touched.role,invalidFeedback:i.errors.role,validFeedback:"Valid Role"})})}),e.jsx("div",{className:"col-md-12",children:e.jsx(n,{id:"email",label:"Email",isFloating:!0,children:e.jsx(u,{placeholder:"Email",onChange:i.handleChange,onBlur:i.handleBlur,value:i.values.email,isValid:i.isValid,isTouched:i.touched.email,invalidFeedback:i.errors.email,validFeedback:"Valid Email"})})}),e.jsx("div",{className:"col-md-12"}),e.jsx("div",{className:"col-md-12",children:e.jsx("h3",{children:"Manage Access"})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-md-3",children:e.jsx(n,{id:"view_quotation",children:e.jsx(c,{type:"switch",id:"view_quotation",label:"View Quotation",name:"view_quotation",onChange:i.handleChange,checked:i.values.view_quotation})})}),e.jsx("div",{className:"col-md-3",children:e.jsx(n,{id:"write_quotation",children:e.jsx(c,{type:"switch",id:"write_quotation",label:"Create / Edit Quotation",name:"write_quotation",onChange:i.handleChange,checked:i.values.write_quotation})})}),e.jsx("div",{className:"col-md-3",children:e.jsx(n,{id:"view_mccr",children:e.jsx(c,{type:"switch",id:"view_mccr",label:"View MCCR",name:"view_mccr",onChange:i.handleChange,checked:i.values.view_mccr})})}),e.jsx("div",{className:"col-md-3",children:e.jsx(n,{id:"write_mccr",children:e.jsx(c,{type:"switch",id:"write_mccr",label:"Create / Edit MCCR",name:"write_mccr",onChange:i.handleChange,checked:i.values.write_mccr})})})]})})]})}),e.jsx(y,{children:e.jsx(I,{children:e.jsx(h,{color:"success",icon:"Save",tag:"a",target:"_blank",onClick:i.submitForm,children:"Save"})})})]})})})})]})};export{A as default};
