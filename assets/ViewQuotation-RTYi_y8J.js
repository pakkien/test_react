import{j as e,F as a,l as i,C as r,f as o,u as j,r as x,P as h,S as b,b as v,B as c,d as N,e as p,a as g,h as q,i as f,k,t as F}from"./index-Dx2x3uUZ.js";import{B as m}from"./Badge-BTixCXcC.js";import{A as y,a as R,N as B,b as U}from"./Nav-B-0v3Rd9.js";const C=t=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-md-12",children:e.jsx(a,{id:"productDesc",label:"Product Description | Job Scope",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.sub_item.product_desc,disabled:!0})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(a,{id:"Brand",label:"Brand",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.sub_item.brand,disabled:!0})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(a,{id:"Model",label:"Model",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.sub_item.model,disabled:!0})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(a,{id:"Remarks",label:"Remarks",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.sub_item.remarks,disabled:!0})})}),e.jsx("div",{className:"col-md-8",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-4",children:e.jsx(a,{id:"Quantity",label:"Quantity",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.sub_item.quantity,disabled:!0})})}),e.jsx("div",{className:"col-4",children:e.jsx(a,{id:"Unit",label:"Unit",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.sub_item.unit,disabled:!0})})}),e.jsx("div",{className:"col-4",children:e.jsx(a,{id:"UnitCost",label:"Unit Cost",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.sub_item.unit_cost,disabled:!0})})})]})}),e.jsx("div",{className:"col-md-4",children:e.jsx(a,{id:"TotalCost",label:"Total Cost",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.sub_item.total_cost,disabled:!0})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(a,{id:"Margin",label:"Margin",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.sub_item.margin,disabled:!0})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(a,{id:"UnitPrice",label:"Unit Price (RM)",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.sub_item.unit_price,disabled:!0})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(a,{id:"TotalPrice",label:"Total Price (RM)",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.sub_item.total_price,disabled:!0})})})]}),e.jsx("hr",{})]}),M=t=>e.jsx(r,{className:"rounded-2",children:e.jsx(o,{children:e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-md-12",children:e.jsx(a,{id:"productDesc",label:"Product Description | Job Scope",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.item.product_desc,disabled:!0})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(a,{id:"Brand",label:"Brand",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.item.brand,disabled:!0})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(a,{id:"Model",label:"Model",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.item.model,disabled:!0})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(a,{id:"Remarks",label:"Remarks",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.item.remarks,disabled:!0})})}),e.jsx("div",{className:"col-md-8",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-4",children:e.jsx(a,{id:"Quantity",label:"Quantity",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.item.quantity,disabled:!0})})}),e.jsx("div",{className:"col-4",children:e.jsx(a,{id:"Unit",label:"Unit",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.item.unit,disabled:!0})})}),e.jsx("div",{className:"col-4",children:e.jsx(a,{id:"UnitCost",label:"Unit Cost",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.item.unit_cost,disabled:!0})})})]})}),e.jsx("div",{className:"col-md-4",children:e.jsx(a,{id:"TotalCost",label:"Total Cost",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.item.total_cost,disabled:!0})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(a,{id:"Margin",label:"Margin",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.item.margin,disabled:!0})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(a,{id:"UnitPrice",label:"Unit Price (RM)",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.item.unit_price,disabled:!0})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(a,{id:"TotalPrice",label:"Total Price (RM)",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:t.item.total_price,disabled:!0})})}),e.jsx("div",{className:"col-md-12",children:t.item.sub_items.length>0&&e.jsx(y,{id:"subitemAccordion",activeItemId:"subitemAccordionitem",color:"dark",children:e.jsx(R,{id:"subitemAccordionitem",title:t.item.product_desc+" - Breakdown",icon:"List",children:t.item.sub_items.map((d,n)=>e.jsx(C,{sub_item:d}))})})}),e.jsx("div",{className:"col-md-12"}),e.jsx("div",{className:"col-md-12"})]})})}),l={quotation_id:"ad399d47-a038-4fb4-9f31-2f142c143611",quotation_data:[{quotation_no:"24001S1-TGH",quotation_id:"ad399d47-a038-4fb4-9f31-2f142c143611",quotation_rev_id:"c33d08b9-8ec3-41a1-8b0a-66033a3c7214",rev:"0",quotation_date:"31/01/2024",client:"client_name",end_user:"someEndUserName",site_location:"Penang",building:"PG1",pic:"123",email:"sometester@gmail.com",project_ref:"abcProject",state:"awarded",items:[{item_id:"09ee02e9-8115-42ad-8648-74c901b96940",quotation_rev_id:"c33d08b9-8ec3-41a1-8b0a-66033a3c7214",product_desc:"item1",brand:"prodtBrand",model:"ModelX",remarks:"dummyRemarks",quantity:"300",unit:"Unit",unit_cost:"300.0",total_cost:"3000.0",margin:"0.8",unit_price:"375",total_price:"3750",sub_items:[{sub_item_id:"60c07ea8-f677-4e0c-b232-8756842ee174",item_id:"09ee02e9-8115-42ad-8648-74c901b96940",product_desc:"item1_subItem1",brand:"prodtBrand",model:"ModelX44",remarks:"dummyRemarks",quantity:"222",unit:"Unit",unit_cost:"300.0",total_cost:"3000.0",margin:"0.8",unit_price:"375",total_price:"3750"},{sub_item_id:"d23c57b7-38c1-45c4-a253-f8f7affe0447",item_id:"09ee02e9-8115-42ad-8648-74c901b96940",product_desc:"item1_subItem2",brand:"prodtBrand",model:"ModelX55",remarks:"dummyRemarks",quantity:"444",unit:"Unit",unit_cost:"300.0",total_cost:"3000.0",margin:"0.8",unit_price:"375",total_price:"3750"}]},{item_id:"7043ac52-22c1-474c-898c-ae4a3d8d44aa",quotation_rev_id:"c33d08b9-8ec3-41a1-8b0a-66033a3c7214",product_desc:"item2",brand:"prodtBrand2",model:"ModelX2",remarks:"dummyRemarks2",quantity:"3",unit:"Unit2",unit_cost:"300.0",total_cost:"3000.0",margin:"0.8",unit_price:"375",total_price:"3750",sub_items:[{sub_item_id:"24e651fe-720e-4aa3-bd25-95398b39e440",item_id:"7043ac52-22c1-474c-898c-ae4a3d8d44aa",product_desc:"item2_subItem1",brand:"prodtBrand",model:"ModelX444",remarks:"dummyRemarks",quantity:"3",unit:"Unit",unit_cost:"300.0",total_cost:"3000.0",margin:"0.8",unit_price:"375",total_price:"3750"}]},{item_id:"fca38a36-659a-4e68-84f5-3c95eea6e9cb",quotation_rev_id:"c33d08b9-8ec3-41a1-8b0a-66033a3c7214",product_desc:"item3",brand:"prodtBrand2",model:"ModelX2",remarks:"dummyRemarks2",quantity:"3",unit:"Unit2",unit_cost:"300.0",total_cost:"3000.0",margin:"0.8",unit_price:"375",total_price:"3750",sub_items:[]}],reference_status:"-",note:"-",total:"12400.0",g_total:"12400.0"},{quotation_no:"24001S1-TGH-Variation-01",quotation_id:"ad399d47-a038-4fb4-9f31-2f142c143611",quotation_rev_id:"998bf269-5741-4445-83ca-f251cb608c5e",quotation_date:"31/01/2024",rev:"1",client:"client_name1",end_user:"someEndUserName1",site_location:"Penang1",building:"PG11",pic:"1231",email:"sometester@gmail.com1",project_ref:"abcProject1",state:"closed",items:[{item_id:"09ee02e9-8115-42ad-8648-74c901b96940",quotation_rev_id:"998bf269-5741-4445-83ca-f251cb608c5e",product_desc:"item1",brand:"prodtBrand",model:"ModelX",remarks:"dummyRemarks",quantity:"300",unit:"Unit",unit_cost:"300.0",total_cost:"3000.0",margin:"0.8",unit_price:"375",total_price:"3750",sub_items:[{sub_item_id:"60c07ea8-f677-4e0c-b232-8756842ee174",item_id:"09ee02e9-8115-42ad-8648-74c901b96940",product_desc:"item1_subItem1",brand:"prodtBrand",model:"ModelX44",remarks:"dummyRemarks",quantity:"222",unit:"Unit",unit_cost:"300.0",total_cost:"3000.0",margin:"0.8",unit_price:"375",total_price:"3750"},{sub_item_id:"d23c57b7-38c1-45c4-a253-f8f7affe0447",item_id:"09ee02e9-8115-42ad-8648-74c901b96940",product_desc:"item1_subItem2",brand:"prodtBrand",model:"ModelX55",remarks:"dummyRemarks",quantity:"444",unit:"Unit",unit_cost:"300.0",total_cost:"3000.0",margin:"0.8",unit_price:"375",total_price:"3750"}]},{item_id:"7043ac52-22c1-474c-898c-ae4a3d8d44aa",quotation_rev_id:"998bf269-5741-4445-83ca-f251cb608c5e",product_desc:"item2",brand:"prodtBrand2",model:"ModelX2",remarks:"dummyRemarks2",quantity:"3",unit:"Unit2",unit_cost:"300.0",total_cost:"3000.0",margin:"0.8",unit_price:"375",total_price:"3750",sub_items:[{sub_item_id:"24e651fe-720e-4aa3-bd25-95398b39e440",item_id:"7043ac52-22c1-474c-898c-ae4a3d8d44aa",product_desc:"item2_subItem1",brand:"prodtBrand",model:"ModelX444",remarks:"dummyRemarks",quantity:"3",unit:"Unit",unit_cost:"300.0",total_cost:"3000.0",margin:"0.8",unit_price:"375",total_price:"3750"}]},{item_id:"fca38a36-659a-4e68-84f5-3c95eea6e9cb",quotation_rev_id:"998bf269-5741-4445-83ca-f251cb608c5e",product_desc:"item3",brand:"prodtBrand2",model:"ModelX2",remarks:"dummyRemarks2",quantity:"3",unit:"Unit2",unit_cost:"300.0",total_cost:"3000.0",margin:"0.8",unit_price:"375",total_price:"3750",sub_items:[]}],reference_status:"-",note:"-",total:"12400.0",g_total:"12400.0"}]};function _(t){switch(t.toLowerCase().trim()){case"inprogress":return"danger";case"closed":return"dark";case"awarded":return"success";default:return"primary"}}const X=()=>{const t=j(),[d,n]=x.useState(0);return e.jsxs(h,{title:"View Quotation",children:[e.jsxs(b,{children:[e.jsxs(v,{children:[e.jsx(c,{color:"info",isLink:!0,icon:"ArrowBack",onClick:()=>t(-1),children:"Back"}),e.jsx(N,{}),e.jsxs("div",{className:"row g-6",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("strong",{className:"fs-5",children:["Quotation No: ",l.quotation_data[d].quotation_no,"   ",e.jsx(m,{className:"statusBadge",color:_(l.quotation_data[d].state),children:e.jsx("h6",{children:l.quotation_data[d].state})})]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"fs-8",children:["Revision: 1.",l.quotation_data[d].rev]})})]})]}),e.jsxs(p,{children:[e.jsx(c,{color:"info",isLight:!0,icon:"Download",onClick:()=>t(-1),children:"PDF"}),e.jsx(c,{color:"info",onClick:()=>{t("../quotation/edit-quotation",{state:{quotation_data:l.quotation_data[d]}})},children:"Create Variation"})]})]}),e.jsx(g,{container:"fluid",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-xl-12 col-lg-12 col-md-12",children:e.jsxs(r,{tag:"form",children:[e.jsx(q,{children:e.jsx(f,{children:e.jsx(k,{tag:"div",className:"h3",children:"View Quotation"})})}),e.jsx(o,{className:"pb-0",children:e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-md-4",children:e.jsx(a,{id:"QuotationDate",label:"Quotation Date",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:l.quotation_data[d].quotation_date,disabled:!0})})}),e.jsx("div",{className:"col-md-8",children:e.jsx(a,{id:"Client",label:"Client",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:l.quotation_data[d].client,disabled:!0})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(a,{id:"EndUser",label:"End User",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:l.quotation_data[d].end_user,disabled:!0})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(a,{id:"SiteLocation",label:"Site Location",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:l.quotation_data[d].site_location,disabled:!0})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(a,{id:"Building",label:"Building",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:l.quotation_data[d].building,disabled:!0})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(a,{id:"PIC",label:"PIC",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:l.quotation_data[d].pic,disabled:!0})})}),e.jsx("div",{className:"col-md-8",children:e.jsx(a,{id:"Email",label:"Email",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:l.quotation_data[d].email,disabled:!0})})})]})}),e.jsx(F,{children:e.jsx(e.Fragment,{})})]})}),e.jsxs("div",{className:"col-xl-12 col-lg-12 col-md-12",children:[e.jsx(r,{children:e.jsxs(o,{children:[e.jsx(B,{children:l.quotation_data.map((u,s)=>e.jsx(U,{onClick:()=>n(s),isActive:s==d,children:e.jsx(c,{children:s==0?"Quotation":"Variation "+s})}))}),e.jsx("hr",{}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-xl-12 col-lg-12 col-md-12",children:["Quotation No:"," ",l.quotation_data[d].quotation_no,"   ",e.jsx(m,{className:"statusBadge",color:_(l.quotation_data[d].state),children:e.jsx("h6",{children:l.quotation_data[d].state})})]}),e.jsxs("h6",{children:["Revision: 1.",d]})]}),l.quotation_data[d].items.map((u,s)=>e.jsx(M,{item:u}))]})}),e.jsx(r,{children:e.jsx(o,{children:e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-md-12",children:e.jsx("h4",{children:"Summary"})}),e.jsx("div",{className:"col-md-8",children:e.jsx(a,{id:"referenceStatus",label:"Reference Status",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:l.quotation_data[d].reference_status,disabled:!0})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(a,{id:"total",label:"Total (RM)",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:l.quotation_data[d].total,disabled:!0})})}),e.jsx("div",{className:"col-md-8",children:e.jsx(a,{id:"note",label:"Note",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:l.quotation_data[d].note,disabled:!0})})}),e.jsx("div",{className:"col-md-4",children:e.jsx(a,{id:"gtotal",label:"G/Total (RM)",isFloating:!0,children:e.jsx(i,{placeholder:"Name",value:l.quotation_data[d].g_total,disabled:!0})})})]})})})]})]})})]})};export{X as default};
