import{r as x,j as e,l as y,I as g,m as i,V as M,p as E,t as z,q as Y,u as $,P as H,S as U,b as K,B as k,d as W,a as J,C as X,g as ee,h as ie,i as se,f as ae,v as ne}from"./index-DwFX3kUm.js";import{B as te}from"./Badge-6_wcXo8p.js";const p=x.forwardRef(({className:a,isDisabled:s,isActive:n,isPrev:d,isFirst:c,isNext:u,isLast:b,children:o,onClick:h,...t},r)=>e.jsx("li",{ref:r,className:y("page-item",{disabled:s,active:n},a),...t,children:e.jsxs("span",{role:"button",onClick:h,onKeyDown:h,className:"page-link",tabIndex:s?-1:void 0,"aria-disabled":s?"true":void 0,"aria-label":d&&"First Page"||u&&"Last Page"||`${o} page`,children:[d&&e.jsx(g,{icon:"ChevronLeft"}),c&&e.jsx(g,{icon:"FirstPage"}),u&&e.jsx(g,{icon:"ChevronRight"}),b&&e.jsx(g,{icon:"LastPage"}),o]})}));p.displayName="PaginationItem";p.propTypes={className:i.string,isDisabled:i.bool,isActive:i.bool,isPrev:i.bool,isFirst:i.bool,isNext:i.bool,isLast:i.bool,children:i.node,onClick:i.func};p.defaultProps={className:void 0,isDisabled:!1,isActive:!1,isPrev:!1,isFirst:!1,isNext:!1,isLast:!1,children:null,onClick:void 0};const m=x.forwardRef(({ariaLabel:a,className:s,children:n,size:d,...c},u)=>e.jsx("nav",{ref:u,"aria-label":a,className:s,...c,children:e.jsx("ul",{className:y("pagination",{[`pagination-${d}`]:d},"m-0"),children:n})}));m.displayName="Pagination";m.propTypes={ariaLabel:i.string.isRequired,children:i.node.isRequired,className:i.string,size:i.oneOf(["sm","lg"])};m.defaultProps={className:void 0,size:null};const j=({children:a,value:s,disabled:n,ariaLabelledby:d,...c})=>e.jsx("option",{value:s,disabled:n,"aria-labelledby":d||a,...c,children:a});j.propTypes={children:i.string.isRequired,value:i.oneOfType([i.string,i.number]),disabled:i.bool,ariaLabelledby:i.string};j.defaultProps={disabled:!1,ariaLabelledby:null,value:void 0};const C=({list:a})=>a==null?void 0:a.map(s=>e.jsx(j,{value:s.value,...s,children:s.text||s.label},s.value));C.propTypes={list:i.arrayOf(i.shape({value:i.oneOfType([i.string,i.number]),text:i.oneOfType([i.string,i.number]),label:i.oneOfType([i.string,i.number])})).isRequired};const f=x.forwardRef(({id:a,name:s,className:n,children:d,required:c,placeholder:u,ariaDescribedby:b,ariaLabelledby:o,ariaLabel:h,list:t,multiple:r,title:l,size:q,disabled:w,value:L,defaultValue:S,isValid:N,isTouched:v,invalidFeedback:_,validFeedback:F,isValidMessage:R,isTooltipFeedback:O,onBlur:I,onChange:A,onFocus:Q,onInput:B,onInvalid:P,onSelect:D,...Z},V)=>e.jsxs(e.Fragment,{children:[e.jsxs("select",{ref:V,id:a,className:y("form-select",{[`form-select-${q}`]:q,"text-muted":L===""&&u,"is-invalid":!N&&v&&_,"is-valid":!N&&v&&!_},n),name:s,"aria-label":h,"aria-describedby":b,"aria-labelledby":o,multiple:r,disabled:w,title:l,value:L,defaultValue:S,required:c,onBlur:I,onChange:A,onFocus:Q,onInput:B,onInvalid:P,onSelect:D,...Z,children:[u&&e.jsx(j,{value:"",hidden:!0,children:u}),d||t&&e.jsx(C,{list:t})]}),R&&e.jsx(M,{isTouched:v,invalidFeedback:_,validFeedback:F,isTooltip:O})]}));f.displayName="Select";f.propTypes={id:i.string,className:i.string,name:i.string,children:i.node,ariaLabel:i.string.isRequired,placeholder:i.string,size:i.oneOf(["lg","sm"]),multiple:i.bool,disabled:i.bool,required:i.bool,ariaDescribedby:i.string,ariaLabelledby:i.string,title:i.string,value:i.oneOfType([i.string,i.arrayOf(i.string)]),defaultValue:i.oneOfType([i.string,i.arrayOf(i.string)]),list:i.arrayOf(i.shape({value:i.oneOfType([i.string,i.number]),text:i.oneOfType([i.string,i.number]),label:i.oneOfType([i.string,i.number])})),isTouched:i.bool,isValid:i.bool,invalidFeedback:i.string,validFeedback:i.string,isValidMessage:i.bool,isTooltipFeedback:i.bool,onBlur:i.func,onChange:i.func,onFocus:i.func,onInput:i.func,onInvalid:i.func,onSelect:i.func};f.defaultProps={id:void 0,className:void 0,name:void 0,children:null,placeholder:void 0,multiple:!1,size:void 0,disabled:!1,required:!1,ariaDescribedby:void 0,ariaLabelledby:void 0,title:void 0,value:void 0,defaultValue:void 0,list:void 0,isTouched:!1,isValid:!1,invalidFeedback:void 0,validFeedback:void 0,isValidMessage:!0,isTooltipFeedback:!1,onBlur:void 0,onChange:void 0,onFocus:void 0,onInput:void 0,onInvalid:void 0,onSelect:void 0};const G={3:3,5:5,10:10,25:25,50:50},oe=(a,s,n)=>a.filter((d,c)=>c+1>(s-1)*n&&c+1<=s*n),T=({setCurrentPage:a,currentPage:s,perPage:n,setPerPage:d,data:c,label:u})=>{const b=c.length,o=Math.ceil(b/n),h=()=>{let r=[],l=s-1;for(;l>=s-1&&l>0;)r.push(e.jsx(p,{onClick:()=>a(s-1),children:l},l)),l-=1;for(r=r.reverse(),r.push(e.jsx(p,{isActive:!0,onClick:()=>a(s),children:s},s)),l=s+1;l<=s+1&&l<=o;)r.push(e.jsx(p,{onClick:()=>a(s+1),children:l},l)),l+=1;return r},t=()=>{const r=n*(s-1)+1,l=n*s;return e.jsxs("span",{className:"pagination__desc",children:["Showing ",r," to ",l>b?b:l," of ",b," ",u]})};return e.jsxs(E,{children:[e.jsx(z,{children:e.jsx("span",{className:"text-muted",children:t()})}),e.jsxs(Y,{className:"d-flex",children:[o>1&&e.jsxs(m,{ariaLabel:u,children:[e.jsx(p,{isFirst:!0,isDisabled:!(s-1>0),onClick:()=>a(1)}),e.jsx(p,{isPrev:!0,isDisabled:!(s-1>0),onClick:()=>a(s-1)}),s-1>1&&e.jsx(p,{onClick:()=>a(s-2),children:"..."}),h(),s+1<o&&e.jsx(p,{onClick:()=>a(s+2),children:"..."}),e.jsx(p,{isNext:!0,isDisabled:!(s+1<=o),onClick:()=>a(s+1)}),e.jsx(p,{isLast:!0,isDisabled:!(s+1<=o),onClick:()=>a(o)})]}),e.jsx(f,{size:"sm",ariaLabel:"Per",onChange:r=>{d(parseInt(r.target.value,10)),a(1)},value:n.toString(),children:Object.keys(G).map(r=>e.jsx(j,{value:r,children:r},r))})]})]})};T.propTypes={setCurrentPage:i.func.isRequired,currentPage:i.number.isRequired,perPage:i.number.isRequired,setPerPage:i.func.isRequired,data:i.array.isRequired,label:i.string};T.defaultProps={label:"items"};const re=(a,s=null)=>{const[n,d]=x.useState(s);return{items:x.useMemo(()=>{const o=[...a];return n!==null&&o.sort((h,t)=>h[n.key]<t[n.key]?n.direction==="ascending"?-1:1:h[n.key]>t[n.key]?n.direction==="ascending"?1:-1:0),o},[a,n]),requestSort:o=>{let h="ascending";n&&n.key===o&&n.direction==="ascending"&&(h="descending"),d({key:o,direction:h})},getClassNamesFor:o=>n&&n.key===o?n.direction:"d-none",sortConfig:n}};function de(a){switch(a.toLowerCase().trim()){case"inprogress":return"danger";case"closed":return"dark";case"awarded":return"success";default:return"primary"}}const le=[{id:"1",prepared_by:"Gary",client:"Tech Group",quotation_date:"2024-04-04T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27,status:"In Progress",site_location:"Penang",building:"Lab 1"},{id:"2",prepared_by:"Gary",client:"Tech Group",quotation_date:"2024-04-03T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27.96,status:"Closed",site_location:"Penang",building:"Lab 1"},{id:"3",prepared_by:"Gary",client:"Tech Group",quotation_date:"2024-04-02T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6000.1,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"},{id:"4",prepared_by:"Gary",client:"Tech Group",quotation_date:"2024-04-01T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6000.03,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"},{id:"5",prepared_by:"Gary",client:"Tech Group",quotation_date:"2023-04-04T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"},{id:"6",prepared_by:"Gary",client:"Tech Group",quotation_date:"2025-04-04T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"},{id:"7",prepared_by:"Gary",client:"Tech Group",quotation_date:"2022-04-04T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"},{id:"8",prepared_by:"Gary",client:"Tech Group",quotation_date:"2024-04-04T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"},{id:"9",prepared_by:"Gary",client:"Tech Group",quotation_date:"2024-04-04T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"},{id:"10",prepared_by:"Gary",client:"Tech Group",quotation_date:"2024-04-04T16:00:00.000Z",quotation_no:"Q-012345",end_user:"Tech Group",revision:0,quotation_amount:9800,cost:6e3,margin:3500,percent:27.96,status:"Awarded",site_location:"Penang",building:"Lab 1"}],he=()=>{const a=$(),[s,n]=x.useState(1),[d,c]=x.useState(G[5]),{items:u,requestSort:b,getClassNamesFor:o}=re(le),h=()=>{a("view-quotation")};return e.jsxs(H,{title:"Tracking List",children:[e.jsx(U,{children:e.jsxs(K,{children:[e.jsx(k,{color:"info",isLink:!0,icon:"ArrowBack",onClick:()=>a(-1),children:"Back"}),e.jsx(W,{}),e.jsx("strong",{className:"fs-5",children:"Tracking List"})]})}),e.jsx(J,{container:"fluid",children:e.jsxs(X,{stretch:!0,children:[e.jsx(ee,{children:e.jsx(ie,{children:e.jsx(se,{tag:"div",className:"h3",children:"Tracking List"})})}),e.jsx(ae,{className:"table-responsive",isScrollable:!0,children:e.jsxs("table",{className:"table table-modern",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"No."}),e.jsx("th",{children:"Prepared By"}),e.jsx("th",{children:"Client"}),e.jsxs("th",{onClick:()=>b("quotation_date"),className:"cursor-pointer text-decoration-underline",children:["Quotation Date",e.jsx(g,{size:"lg",className:o("quotation_date"),icon:"FilterList"})]}),e.jsx("th",{children:"Quotation No."}),e.jsx("th",{children:"End User"}),e.jsx("th",{children:"Revision"}),e.jsx("th",{children:"Quotation Amount"}),e.jsx("th",{children:"Cost"}),e.jsx("th",{children:"Margin"}),e.jsx("th",{children:"%"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Site Location"}),e.jsx("th",{children:"Building"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:oe(u,s,d).map((t,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:r+1}),e.jsx("td",{children:t.prepared_by}),e.jsx("td",{children:t.client}),e.jsx("td",{children:ne(`${t.quotation_date}`).format("DD/MM/YYYY")}),e.jsx("td",{children:t.quotation_no}),e.jsx("td",{children:t.end_user}),e.jsx("td",{children:t.revision}),e.jsx("td",{children:t.quotation_amount.toFixed(2)}),e.jsx("td",{children:t.cost.toFixed(2)}),e.jsx("td",{children:t.margin.toFixed(2)}),e.jsxs("td",{children:[t.percent.toFixed(2),"%"]}),e.jsx("td",{children:e.jsx(te,{className:"statusBadge",color:de(t.status),children:e.jsx("h6",{children:t.status})})}),e.jsx("td",{children:t.site_location}),e.jsx("td",{children:t.building}),e.jsx("td",{children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-auto",children:e.jsx(k,{color:"primary",icon:"RemoveRedEye",shadow:"none",hoverShadow:"lg",tag:"a",onClick:()=>h()})})})})]},t.id))})]})}),e.jsx(T,{data:u,label:"items",setCurrentPage:n,currentPage:s,perPage:d,setPerPage:c})]})})]})};export{he as default};
